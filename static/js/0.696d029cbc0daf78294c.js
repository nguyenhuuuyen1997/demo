webpackJsonp([0],{Twrc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),o=n.n(a),r=n("exGp"),s=n.n(r),i=n("mtWM"),l=n.n(i),c={name:"post",props:["post"],data:function(){return{cut:{},keyword:"",perPage:10,currentPage:1,lengthRow:10,results:[],fields:[{key:"index",label:"STT",sortable:!0,thClass:"col1"},{key:"post_title",label:"Tiêu đề",sortable:!0},{key:"image",label:"Nội Dung",sortable:!0},{key:"theme_post",label:"Danh mục",sortable:!0},{key:"sta",label:"Trạng thái",sortable:!0},{key:"name",label:"Tài khoản đăng ",sortable:!0},{key:"isActive",label:"Hoạt động ",sortable:!0},{key:"action",label:"Thao tác",sortable:!1,thClass:"col100"}]}},mounted:function(){var t=this;l.a.get("http://localhost:8000/posts/posts").then(function(e){t.results=e.data,console.log(e)}).catch(function(t){console.log(t)})},methods:{pheduyet:function(t){var e=this;return s()(o.a.mark(function n(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,l.a.post("http://localhost:8000/posts/update",t).then(function(t){console.log(t)});case 3:case"end":return e.stop()}},n,e)}))()},chuyen:function(t){var e=this;return s()(o.a.mark(function n(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,l.a.post("http://localhost:8000/posts/update_post",t).then(function(t){console.log(t)});case 3:case"end":return e.stop()}},n,e)}))()},load:function(){window.location.reload()},deletecut:function(t){var e=this,n=this.results[t];this.cut=n,l.a.post("http://localhost:8000/posts/deletepost",this.cut).then(function(t){e.cut={},console.log(e.cut),window.location.reload()})}},computed:{items:function(){var t=this;return this.keyword?this.results.filter(function(e){return e.post_title.includes(t.keyword)}):this.results},rows:function(){return this.items.length}},watch:{lengthRow:function(t){this.perPage=this.lengthRow}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"user"}},[n("div"),t._v(" "),n("h3",[t._v("Quản Lý Bài Viết")]),t._v(" "),n("div",[n("b-row",[n("b-col",{staticStyle:{"text-align":"initial"}},[n("span",[t._v("Hiển thị")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.lengthRow,expression:"lengthRow"}],attrs:{value:"3"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.lengthRow=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),n("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),n("option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),n("option",{attrs:{value:"30"}},[t._v("30")]),t._v(" "),n("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),n("option",{attrs:{value:"100"}},[t._v("100")])]),t._v(" "),n("span",[t._v("bản ghi")])]),t._v(" "),n("b-col",{staticStyle:{"text-align":"right"}},[n("p",[t._v("\n                  Hiển thị bản ghi\n                  "),n("strong",[t._v("1 - "+t._s(t.lengthRow))]),t._v(" trên tổng số\n                  "),n("strong",[t._v(t._s(t.rows))]),t._v(" bản ghi\n                ")])])],1),t._v(" "),n("b-row",{staticClass:"seach"},[n("b-col",[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Search",type:"text"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),n("b-input-group-text",{attrs:{slot:"append"},slot:"append"},[n("b-btn",{staticClass:"p-0",attrs:{disabled:!t.keyword,variant:"link"},on:{click:function(e){t.keyword=""}}},[n("i",{staticClass:"fa fa-remove"})])],1)],1)],1)],1),t._v(" "),n("div",[n("b-table",{attrs:{striped:"",hover:"",id:"my-table",items:t.items,fields:t.fields,keyword:t.keyword,"per-page":t.perPage,"current-page":t.currentPage},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n                  "+t._s(e.index+1)+"\n                ")]}},{key:"cell(image)",fn:function(t){return[n("iframe",{attrs:{src:t.item.post_media,alt:"",width:"50",height:"50"}})]}},{key:"cell(sta)",fn:function(e){return[e.item.status?n("b-badge",{attrs:{variant:"success"}},[t._v("Bài Nổi bật")]):n("b-badge",{attrs:{variant:"warning"}},[t._v("Bài viết mới")])]}},{key:"cell(isActive)",fn:function(e){return[e.item.acti?n("b-badge",{attrs:{variant:"success"}},[t._v("Đã phê duyệt")]):n("b-badge",{attrs:{variant:"warning"}},[t._v("Chưa phê duyệt")])]}},{key:"cell(action)",fn:function(e){return[n("b-button",{attrs:{variant:"warning"},on:{click:function(n){t.pheduyet(e.item),t.$bvModal.show("bv-modal-example")}}},[t._v("Phê duyệt")]),t._v(" "),n("b-button",{attrs:{variant:"warning"},on:{click:function(n){t.chuyen(e.item),t.$bvModal.show("bv-modal-example")}}},[t._v("Bài nổi bật")]),t._v(" "),n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return t.deletecut(e.index)}}},[t._v("Xóa bài  ")])]}}])}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),t._v(" "),n("p",{staticClass:"mt-3"},[t._v("Current Page: "+t._s(t.currentPage))])],1),t._v(" "),n("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                  Phê Duyệt\n                ")]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"d-block text-center"},[n("h3",[t._v("Phê duyệt bài viết thành công ")])]),t._v(" "),n("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){t.load(),t.$bvModal.hide("bv-modal-example")}}},[t._v("Thoát")])],1),t._v(" "),n("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                  Phê Duyệt\n                ")]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"d-block text-center"},[n("h3",[t._v("Phê duyệt bài viết thành công ")])]),t._v(" "),n("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){t.load(),t.$bvModal.hide("bv-modal-example")}}},[t._v("Thoát")])],1)],1)])},staticRenderFns:[]};var v=n("VU/8")(c,u,!1,function(t){n("nSfx")},null,null);e.default=v.exports},nSfx:function(t,e){}});
//# sourceMappingURL=0.696d029cbc0daf78294c.js.map